<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
*{margin:0px;padding:0px;list-style:none;}
#div1{width:930px;margin:0 auto;}
ul{width:300px;margin-right:10px;background:#ccc;float:left;}
ul li{width:100%;background:#333;margin-bottom:20px;}
</style>
<script>
function rnd(n,m){
	return Math.random()*(m-n)+n;
};
window.onload=function(){
	var oDiv1=document.getElementById('div1');
	var aUl=oDiv1.children;
	
	function creatLi(){
		var oLi=document.createElement('li');
		oLi.style.height=parseInt(rnd(100,300))+'px';
		return oLi;
	};
	
	insertToUl(10);
	function insertToUl(count){	
		for(var i=0;i<count;i++){	
			var minHeight=99999999;
			var index=0;
			for(var j=0;j<aUl.length;j++){
				if(aUl[j].offsetHeight<minHeight){
					minHeight=aUl[j].offsetHeight;
					index=j;
				}
			}
			aUl[index].appendChild(creatLi());
		}
	};
	
	window.onscroll=function(){
		var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
		var clientH=document.documentElement.clientHeight;
		var bodyH=document.body.scrollHeight;
		if(scrollTop+clientH>=bodyH){
			alert('到底啦！');
			insertToUl(10);
		}
	};
};
</script>
</head>

<body>
<div id="div1">
	<ul></ul>
	<ul></ul>
	<ul></ul>
</div>
</body>
</html>
